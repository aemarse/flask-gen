from werkzeug.serving import run_simple
from werkzeug.wsgi import DispatcherMiddleware

from {{ app_name }}.app import create_app

app = DispatcherMiddleware(create_app())

if __name__ == '__main__':
    # For aptana/eclipse debugging we need to do some meandering
    #    keep in mind that the middleware is a separate app from the flask-app
    use_debugger = False
    if app.app.debug:
        use_debugger = True
    run_simple('0.0.0.0',
               5000,
               app,
               use_reloader=use_debugger,
               use_debugger=use_debugger,
               use_evalex=True)
